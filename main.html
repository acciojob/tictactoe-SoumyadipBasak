<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Tic Tac Toe</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      text-align: center;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
    }

    .container {
      width: 420px;
      margin: 0 auto;
    }

    /* Header style (as in your design) */
    .logo {
      font-family: "Comic Sans MS", cursive;
      font-weight: 700;
      font-size: 48px;
      margin: 20px 0;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    /* Initial view: name inputs */
    #start-view {
      display: block;
    }

    #board-view {
      display: none;
    }

    .field {
      margin: 8px 0;
      text-align: left;
    }

    label {
      display: inline-block;
      width: 100px;
    }

    input[type="text"] {
      width: 220px;
      padding: 6px 8px;
      border: 1px solid #333;
      border-radius: 4px;
    }

    #submit {
      margin-top: 12px;
      padding: 12px 22px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #333;
      cursor: pointer;
      background: #fff;
    }

    /* Board */
    h1 {
      margin-top: 20px;
      font-size: 28px;
    }

    .message {
      margin: 10px 0 14px;
      font-size: 18px;
    }

    .board {
      width: 360px;
      height: 360px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, 1fr);
      gap: 0;
      margin: 0 auto;
      border: 2px solid #333;
    }

    .cell {
      width: 120px;
      height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 72px;
      cursor: pointer;
      border: 1px solid #333;
      background: #f8cbd8; /* pink-ish background like your screenshot */
    }

    .cell.X { color: #111; }
    .cell.O { color: #fff; text-shadow: 0 0 2px #000; }

    /* Win state visuals (optional) */
    .cell.X { background: #f6c6d8; }
    .cell.O { background: #6a0dad; }

    /* Reset / simple layout cleanup on small screens */
    @media (max-width: 480px) {
      .container { width: 92%; }
      #start-view, #board-view { width: 100%; }
      .board { width: 100%; height: auto; aspect-ratio: 1/1; }
      .cell { font-size: 60px; }
    }
  </style>
</head>
<body>

  <div class="container" id="app">
    <!-- Initial view: player names -->
    <div id="start-view">
      <div class="logo">TIC TAC TOE</div>

      <div class="field">
        <label for="player-1">Player 1</label>
        <input type="text" id="player-1" placeholder="enter name" />
      </div>
      <div class="field">
        <label for="player-2">Player 2</label>
        <input type="text" id="player-2" placeholder="enter name" />
      </div>

      <button id="submit">Start Game</button>
    </div>

    <!-- Board view -->
    <div id="board-view" aria-live="polite">
      <div class="logo" style="margin-top:20px;">TIC TAC TOE</div>
      <h1 id="board-title" style="margin-top: 8px;">Tic Tac Toe</h1>

      <div class="message" id="turn-message"></div>

      <div class="board" id="board" role="grid" aria-label="Tic Tac Toe board">
        <!-- 9 cells with ids 1 through 9 -->
        <div class="cell" id="1" role="gridcell" data-index="0"></div>
        <div class="cell" id="2" role="gridcell" data-index="1"></div>
        <div class="cell" id="3" role="gridcell" data-index="2"></div>

        <div class="cell" id="4" role="gridcell" data-index="3"></div>
        <div class="cell" id="5" role="gridcell" data-index="4"></div>
        <div class="cell" id="6" role="gridcell" data-index="5"></div>

        <div class="cell" id="7" role="gridcell" data-index="6"></div>
        <div class="cell" id="8" role="gridcell" data-index="7"></div>
        <div class="cell" id="9" role="gridcell" data-index="8"></div>
      </div>
    </div>

  </div>

  <script>
    // State
    let players = { p1: '', p2: '' };
    let board = Array(9).fill(null); // 'X' or 'O'
    let turn = 'X'; // 'X' for Player 1, 'O' for Player 2
    const winLines = [
      [0,1,2], [3,4,5], [6,7,8], // rows
      [0,3,6], [1,4,7], [2,5,8], // cols
      [0,4,8], [2,4,6]           // diags
    ];

    // Elements
    const startView = document.getElementById('start-view');
    const boardView = document.getElementById('board-view');
    const submitBtn = document.getElementById('submit');
    const turnMessage = document.getElementById('turn-message');
    const boardEl = document.getElementById('board');
    const player1Input = document.getElementById('player-1');
    const player2Input = document.getElementById('player-2');
    const boardTitle = document.getElementById('board-title');

    function getCurrentPlayerName() {
      return turn === 'X' ? players.p1 : players.p2;
    }

    function showStartingView() {
      startView.style.display = 'block';
      boardView.style.display = 'none';
    }

    function showBoardView() {
      startView.style.display = 'none';
      boardView.style.display = 'block';
    }

    function updateTurnMessage() {
      const name = getCurrentPlayerName() || (turn === 'X' ? players.p1 : players.p2);
      if (name) {
        turnMessage.textContent = `${name}, you're up`;
      } else {
        turnMessage.textContent = '';
      }
    }

    function resetBoard() {
      board = Array(9).fill(null);
      turn = 'X';
      for (let i = 1; i <= 9; i++) {
        const cell = document.getElementById(i.toString());
        cell.textContent = '';
        cell.classList.remove('X','O');
      }
      updateTurnMessage();
    }

    function checkWin() {
      for (const line of winLines) {
        const [a,b,c] = line;
        if (board[a] && board[a] === board[b] && board[a] === board[c]) {
          return { winner: board[a], line };
        }
      }
      return null;
    }

    // Initialize click handlers for cells
    function attachBoardHandlers() {
      for (let i = 0; i < 9; i++) {
        const cell = document.getElementById((i+1).toString());
        cell.addEventListener('click', () => handleMove(i, cell));
      }
    }

    function handleMove(index, cellEl) {
      if (board[index] !== null) return; // already taken

      board[index] = turn;
      cellEl.textContent = turn;
      // style for X/O
      cellEl.classList.add(turn);

      // Check win
      const result = checkWin();
      if (result) {
        const winnerName = turn === 'X' ? players.p1 : players.p2;
        turnMessage.textContent = `${winnerName}, congratulations you won!`;
        // Highlight winning line
        result.line.forEach(idx => {
          const c = document.getElementById((idx+1).toString());
          c.style.background = '#7a1e7e'; // purple highlight
        });
        // Disable further moves
        boardEl.querySelectorAll('.cell').forEach(c => c.style.pointerEvents = 'none');
        return;
      }

      // Check draw
      if (board.every(v => v !== null)) {
        turnMessage.textContent = `It's a draw!`;
        return;
      }

      // Switch turn
      turn = (turn === 'X') ? 'O' : 'X';
      updateTurnMessage();
    }

    // Start game flow
    submitBtn.addEventListener('click', () => {
      const p1 = (player1Input.value || 'Player 1').trim();
      const p2 = (player2Input.value || 'Player 2').trim();

      if (!p1 || !p2) {
        alert('Please enter names for both players.');
        return;
      }

      players.p1 = p1;
      players.p2 = p2;

      // Prepare board title and initial message
      boardTitle.textContent = 'Tic Tac Toe';
      resetBoard();
      showBoardView();
      updateTurnMessage();
      // make sure board is ready
      attachBoardHandlers();
      // prevent repeat handlers if user restarts
      submitBtn.disabled = true;
    });

    // Initialize
    showStartingView();
  </script>
</body>
</html>