<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tic Tac Toe</title>
  <style>
    /* Page layout */
    body {
      font-family: Arial, Helvetica, sans-serif;
      text-align: center;
      background: #f8f8f8;
      margin: 0;
      padding: 20px;
    }

    .container {
      max-width: 700px;
      margin: 0 auto;
    }

    /* Title style (like the screenshot) */
    .brand {
      font-family: "Comic Sans MS", "Chalkboard SE", cursive;
      font-size: 56px;
      letter-spacing: 2px;
      margin: 10px 0 20px;
      user-select: none;
    }

    /* Pre-game input area */
    #preGame {
      display: block;
      margin: 40px auto;
    }

    .row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      margin: 10px 0;
    }

    label {
      font-weight: 600;
      margin-right: 6px;
    }

    input[type="text"] {
      width: 260px;
      padding: 10px 12px;
      font-size: 16px;
      border: 2px solid #333;
      border-radius: 4px;
      outline: none;
    }

    button#submit {
      padding: 12px 28px;
      font-size: 16px;
      border-radius: 6px;
      border: 2px solid #333;
      background: #fff;
      cursor: pointer;
    }

    /* Game board */
    #gameArea {
      display: none; /* hidden until after submit */
    }

    h1 {
      margin-top: 20px;
      font-size: 28px;
    }

    .message {
      font-weight: 600;
      margin: 6px 0 12px;
    }

    /* 3x3 board grid */
    .board {
      width: 420px;
      height: 420px;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, 1fr);
      gap: 4px;
      margin: 0 auto;
      border: 4px solid #333;
      padding: 6px;
      background: #fff;
    }

    .cell {
      background: #f8cbd9; /* pink cells like screenshot base */
      border: 2px solid #333;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 72px;
      font-weight: 700;
      color: #000;
      cursor: pointer;
      user-select: none;
    }

    /* Winning or mirror states (optional visual tweak) */
    .cell.filled {
      cursor: default;
    }

    /* When someone wins, show the board with highlight on winning line (optional) */
    .winner {
      /* no specific style here; can be extended if desired */
    }

    /* Subtle responsive tweak for smaller viewports */
    @media (max-width: 520px) {
      .board { width: 90vw; height: 90vw; }
      .cell { font-size: 58px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Initial view: two input boxes and a Start button -->
    <div id="preGame">
      <div class="brand" aria-label="Tic Tac Toe Brand">TIC TAC TOE</div>

      <div class="row" style="justify-content:center;">
        <label for="player-1">Player 1</label>
        <input type="text" id="player-1" placeholder="enter name" />
      </div>

      <div class="row" style="justify-content:center;">
        <label for="player-2">Player 2</label>
        <input type="text" id="player-2" placeholder="enter name" />
      </div>

      <div class="row" style="justify-content:center;">
        <button id="submit" aria-label="Start Game">Start Game</button>
      </div>
    </div>

    <!-- Game board view: initially hidden -->
    <div id="gameArea" aria-label="Tic Tac Toe Game">
      <h1>Tic Tac Toe</h1>
      <div class="message" id="turnMessage"> </div>
      <div class="board" id="board" role="grid" aria-label="Game board">
        <!-- 9 cells with ids 1 through 9 -->
        <div class="cell" id="1" role="gridcell" tabindex="0"></div>
        <div class="cell" id="2" role="gridcell" tabindex="0"></div>
        <div class="cell" id="3" role="gridcell" tabindex="0"></div>
        <div class="cell" id="4" role="gridcell" tabindex="0"></div>
        <div class="cell" id="5" role="gridcell" tabindex="0"></div>
        <div class="cell" id="6" role="gridcell" tabindex="0"></div>
        <div class="cell" id="7" role="gridcell" tabindex="0"></div>
        <div class="cell" id="8" role="gridcell" tabindex="0"></div>
        <div class="cell" id="9" role="gridcell" tabindex="0"></div>
      </div>
    </div>
  </div>

  <script>
    // State
    const preGame = document.getElementById('preGame');
    const gameArea = document.getElementById('gameArea');
    const submitBtn = document.getElementById('submit');
    const player1Input = document.getElementById('player-1');
    const player2Input = document.getElementById('player-2');
    const boardEl = document.getElementById('board');
    const turnMessage = document.getElementById('turnMessage');
    const cells = Array.from(document.querySelectorAll('.cell'));

    let board = Array(9).fill(null); // null, 'X', 'O'
    let currentPlayer = 'X';
    let players = { X: '', O: '' };
    let gameOver = false;

    // Winning combos (indices 0-8)
    const winCombos = [
      [0,1,2], [3,4,5], [6,7,8], // rows
      [0,3,6], [1,4,7], [2,5,8], // cols
      [0,4,8], [2,4,6]           // diagonals
    ];

    // Initialize turn message
    function updateTurnMessage() {
      const turnName = currentPlayer === 'X' ? players.X : players.O;
      turnMessage.textContent = `${turnName}, you're up`;
    }

    // Render the board based on `board` state
    function renderBoard() {
      board.forEach((val, idx) => {
        const cell = document.getElementById(String(idx + 1));
        cell.textContent = val ? val : '';
        if (val) cell.classList.add('filled');
      });
    }

    // Check for a winner
    function checkWinner() {
      for (const combo of winCombos) {
        const [a, b, c] = combo;
        if (board[a] && board[a] === board[b] && board[a] === board[c]) {
          return board[a]; // 'X' or 'O'
        }
      }
      // Check draw
      if (board.every(v => v)) {
        return 'draw';
      }
      return null;
    }

    // Handle cell click
    function handleCellClick(index) {
      if (gameOver) return;
      if (board[index] !== null) return;

      board[index] = currentPlayer;
      renderBoard();

      const result = checkWinner();
      if (result === 'X' || result === 'O') {
        gameOver = true;
        const winnerName = result === 'X' ? players.X : players.O;
        turnMessage.textContent = `${winnerName}, congratulations you won!`;
        return;
      } else if (result === 'draw') {
        gameOver = true;
        turnMessage.textContent = `It's a draw!`;
        return;
      }

      // Switch turns
      currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
      updateTurnMessage();
    }

    // Attach click handlers to cells
    function attachCellHandlers() {
      cells.forEach((cell, idx) => {
        // Use event delegation style
        cell.addEventListener('click', () => handleCellClick(idx));
      });
    }

    // Start game after submitting names
    submitBtn.addEventListener('click', () => {
      const p1Name = player1Input.value.trim() || 'Player 1';
      const p2Name = player2Input.value.trim() || 'Player 2';

      players.X = p1Name;
      players.O = p2Name;

      // Reset board and state
      board = Array(9).fill(null);
      currentPlayer = 'X';
      gameOver = false;

      // Show game area, hide pre-game
      preGame.style.display = 'none';
      gameArea.style.display = 'block';

      renderBoard();
      updateTurnMessage();
      // Focus first cell for accessibility
      const firstCell = document.getElementById('1');
      if (firstCell) firstCell.focus();
    });

    // Initialize
    attachCellHandlers();
  </script>
</body>
</html>